# Pi-hole values (homelab defaults).
admin:
  enabled: true
  existingSecret: pihole-admin
  passwordKey: password

# Persist Pi-hole settings.
persistentVolumeClaim:
  enabled: true
  size: "2Gi"

hostNetwork: true
capabilities:
  add:
    - NET_ADMIN

serviceDhcp:
  enabled: false

serviceDns:
  type: ClusterIP
serviceWeb:
  type: ClusterIP

# Basic Pi-hole env defaults.
extraEnvVars:
  TZ: "UTC"
  # Enable DHCP Server
  FTLCONF_dhcp_active: true
  FTLCONF_dhcp_start: 192.168.1.64
  FTLCONF_dhcp_end: 192.168.1.239
  FTLCONF_dhcp_router: 192.168.1.254
  FTLCONF_dns_reply_host_IPv4: 192.168.1.10
  FTLCONF_dns_listeningMode: "LOCAL"
  FTLCONF_dns_upstreams: |-
    1.1.1.1
    1.0.0.1
    8.8.8.8
    8.8.4.4
    2606:4700:4700::1111
    2606:4700:4700::1001
  FTLCONF_dhcp_ipv6: true
  FTLCONF_dns_interface: "eth0"

# Register local DNS records for the Gateway.
# We mount a custom dnsmasq config to support wildcard DNS (*.home.lab -> Gateway IP).
extraVolumes:
  custom-dns:
    configMap:
      name: pihole-custom-dns

extraVolumeMounts:
  custom-dns:
    mountPath: /etc/dnsmasq.d/05-homelab.conf
    subPath: 05-homelab.conf
